<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sentimate Insights Dashboard</title>
  <!-- Chart.js and DataLabels plugin -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
  <style>
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f4f7f9; margin: 0; padding: 0; }
    header { background: #fff; box-shadow: 0 2px 4px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 100; }
    nav.container { display: flex; align-items: center; padding: 10px 20px; }
    nav .logo { height: 40px; margin-right: auto; }
    nav a { margin-left: 20px; color: #0b3954; text-decoration: none; font-weight: bold; }
    .container { max-width: 1200px; margin: 20px auto; padding: 0 20px; transition: margin-right 0.3s ease; }
    .dashboard.chat-open .container { margin-right: 350px; }
    .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
    .card { background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); padding: 20px; display: flex; flex-direction: column; }
    .card h2 { font-size: 1.1em; margin: 0 0 8px; color: #087e8b; }
    .summary { font-size: 0.9em; color: #444; margin: 10px 0; }
    .chart-container { width: 100%; height: 160px; margin-bottom: 8px; }
    .chart-data { font-size: 0.8em; color: #333; margin-bottom: 8px; }
    canvas { max-width: 100%; max-height: 160px; }
    .quotes { margin: 8px 0; }
    .quote { background: #e1f5fe; padding: 6px; border-left: 4px solid #007BFF; margin-bottom: 4px; border-radius: 6px; font-style: italic; font-size: 0.75em; }
    .expand-button { background: none; border: none; color: #007BFF; cursor: pointer; font-size: 0.85em; padding: 0; margin-top: 6px; align-self: flex-start; }
    .expanded-content { display: none; margin-top: 10px; font-size: 0.85em; color: #333; }
    .expanded-content h3 { margin-top: 12px; color: #005b96; font-size: 0.9em; }
    .expanded-content p { margin-bottom: 8px; }
    .section { margin-top: 40px; }
    .section h2 { color: #0b3954; margin-bottom: 20px; }
    .section ul { font-size: 0.9em; color: #444; list-style: disc; margin-left: 20px; }
    .dashboard { display: flex; }
    .chat-panel { width: 350px; background: #fff; border-left: 1px solid #ddd; position: fixed; right: 0; top: 0; bottom: 0; transform: translateX(100%); transition: transform 0.3s ease; display: flex; flex-direction: column; z-index: 200; }
    .chat-panel.open { transform: translateX(0); }
    .chat-header { display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #f8f9fa; }
    .chat-header button { background: none; border: none; font-size: 1.2em; cursor: pointer; }
    .chat-body { flex: 1; padding: 12px; overflow-y: auto; }
    .chat-input { display: flex; border-top: 1px solid #ddd; padding: 8px; }
    .chat-input input { flex: 1; padding: 8px; border-radius: 20px; border: 1px solid #ccc; }
    .chat-input button { margin-left: 8px; background: #007BFF; color: #fff; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; }
    .chat-toggle { position: fixed; right: 20px; bottom: 20px; background: #007BFF; color: #fff; padding: 12px 28px; cursor: pointer; border-radius: 28px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); font-size: 1em; z-index: 201; }
  </style>
</head>
<body>
  <header>
    <nav class="container">
      <img src="logo.png" alt="Sentimate Logo" class="logo">
      <a href="#executive">Executive</a>
      <a href="#insights">Qualitative</a>
      <a href="#quantitative">Quantitative</a>
      <a href="#analysis">Summary</a>
      <a href="#recommendations">Recommendations</a>
    </nav>
  </header>
  <div class="dashboard" id="dashboard">
    <div class="container">
      <!-- Executive -->
      <section id="executive" class="section">
        <h2>Executive Overview</h2>
        <p class="summary"><strong>Survey:</strong> 1,200 U.S. adults, April–May 2025</p>
        <p class="summary">Approval fell from <strong>49%</strong> to <strong>42%</strong> in first 100 days:</p>
        <ul>
          <li>18–29 <strong>(–12 pts)</strong>: debt relief & climate concerns</li>
          <li>Independents <strong>(–9 pts)</strong>: messaging inconsistency</li>
          <li>Economic confidence <strong>45%</strong>: six-year low</li>
          <li>Healthcare rural <strong>&lt;38%</strong>: access & cost</li>
          <li>Foreign policy <strong>&lt;40%</strong>: diplomatic skepticism</li>
        </ul>
      </section>
      <!-- Qualitative -->
      <section id="insights" class="section">
        <h2>Qualitative Insights</h2>
        <div class="grid" id="insightsGrid"></div>
      </section>
      <!-- Quantitative -->
      <section id="quantitative" class="section">
        <h2>Quantitative Results</h2>
        <div class="grid" id="quantGrid"></div>
      </section>
      <!-- Summary -->
      <section id="analysis" class="section">
        <h2>Detailed Summary</h2>
        <ul>
          <li><strong>Youth & Independents:</strong> trust erosion –12, –9 pts</li>
          <li><strong>Economic:</strong> 55% feel worse, 45% confidence</li>
          <li><strong>Healthcare:</strong> rural 42% vs urban 35%</li>
          <li><strong>Foreign Policy:</strong> &lt;40% approval</li>
        </ul>
      </section>
      <!-- Recommendations -->
      <section id="recommendations" class="section">
        <h2>Strategic Recommendations</h2>
        <ul>
          <li>Unified messaging: economy, healthcare, climate</li>
          <li>Youth campaigns: debt relief & green jobs</li>
          <li>Monthly bipartisan highlights</li>
          <li>Regional tailored narratives</li>
        </ul>
      </section>
    </div>
    <!-- Chat -->
    <div class="chat-panel" id="chatPanel">
      <div class="chat-header">AI Agent <button onclick="toggleChat()">×</button></div>
      <div class="chat-body" id="chatBody"></div>
      <div class="chat-input">
        <input type="text" id="chatInput" placeholder="Ask a question...">
        <button id="sendBtn">Send</button>
      </div>
    </div>
    <div class="chat-toggle" id="chatToggle">Ask a Question</div>
  </div>
  <script>
    function toggleChat() {
      const panel = document.getElementById('chatPanel'),
            dash = document.getElementById('dashboard'),
            tog = document.getElementById('chatToggle');
      panel.classList.toggle('open');
      dash.classList.toggle('chat-open');
      tog.style.display = panel.classList.contains('open') ? 'none' : 'block';
    }
    document.getElementById('chatToggle').addEventListener('click', toggleChat);
    document.getElementById('sendBtn').addEventListener('click', () => {
      const msg = document.getElementById('chatInput').value.trim();
      if (!msg) return;
      const body = document.getElementById('chatBody'),
            pu = document.createElement('p');
      pu.className = 'user';
      pu.textContent = msg;
      body.appendChild(pu);
      document.getElementById('chatInput').value = '';
      const pb = document.createElement('p');
      pb.className = 'bot';
      pb.textContent = 'AI Agent is typing...';
      body.appendChild(pb);
      setTimeout(() => { pb.textContent = 'Insightful response: ' + msg; }, 1000);
    });
    function toggleExpand(btn) {
      const c = btn.nextElementSibling;
      c.style.display = c.style.display === 'block' ? 'none' : 'block';
      btn.textContent = c.style.display === 'block' ? 'Hide Details' : 'View More';
    }
    document.addEventListener('DOMContentLoaded', () => {
      Chart.register(ChartDataLabels);
      const colors = ['#00BCD4','#8BC34A','#FF9800','#FF6384','#36A2EB','#FFCE56'];
      const types = ['doughnut','bar','pie','line'];
      // Qualitative data
      const qualitative = [
        {id:1,title:'Overall Job Approval',summary:'Division deep, youth most critical of performance.',quotes:['“Flip-flops confuse voters.”','“Daily economic pinch felt.”','“Diplomatic stance inconsistent.”'],detailChart:[45,25,30],detailText:'Unpredictable policy announcements undermine trust, especially on trade and environment.',breakdownLabels:['Republicans','Independents','Democrats'],breakdownValues:[65,40,20]},
        {id:2,title:'Economic Confidence',summary:'Lowest in six years amid cost pressures.',quotes:['“Prices outpace paychecks.”','“Healthcare bills stress me.”','“Saving seems impossible.”'],detailChart:[20,25,15,37,3],detailText:'Inflation on essentials drives consumer pessimism.',breakdownLabels:['18–29','30–44','45–64','65+'],breakdownValues:[30,28,22,20]},
        {id:3,title:'Foreign Policy Satisfaction',summary:'Approval under 40%; consistency needed.',quotes:['“Allies unsure of stance.”','“Shifting policies confuse.”','“Need coherent strategy.”'],detailChart:[12,26,9,20,35,8],detailText:'Shifts in alliances erode confidence.',breakdownLabels:['Urban','Suburban','Rural'],breakdownValues:[35,30,25]},
        {id:4,title:'Immigration Handling',summary:'Polarized between control and compassion.',quotes:['“Border security lax.”','“Humanitarian approach needed.”','“Mixed messaging.”'],detailChart:[22,22,6,18,32,6],detailText:'Views split sharply along party lines.',breakdownLabels:['No College','Some College','College','Postgraduate'],breakdownValues:[40,30,20,10]},
        {id:5,title:'Tariffs & Trade',summary:'Businesses frustrated by unpredictability.',quotes:['“Tariffs hurt small biz.”','“Partners frustrated.”','“Need long-term plan.”'],detailChart:[10,24,8,18,30,10],detailText:'Inconsistent trade policy dampens investment.',breakdownLabels:['Manufacturing','Services','Tech','Agriculture'],breakdownValues:[25,30,25,20]},
        {id:6,title:'Executive Tariff Authority',summary:'Opposition to expanded powers.',quotes:['“Congress should decide.”','“Too much presidential power.”','“Checks needed.”'],detailChart:[32,60,8],detailText:'Concerns over concentration of tariff decisions.',breakdownLabels:['Republicans','Independents','Democrats'],breakdownValues:[70,35,15]},
        {id:7,title:'Healthcare Satisfaction',summary:'Under 40% highlight access issues.',quotes:['“Premiums sky-high.”','“Rural clinics empty.”','“Drug costs insane.”'],detailChart:[11,25,6,20,38,6],detailText:'Gaps in rural care and cost drive dissatisfaction.',breakdownLabels:['Urban','Suburban','Rural'],breakdownValues:[45,30,25]},
        {id:8,title:'Tone & Communication Style',summary:'54% find tone combative.',quotes:['“Tone harsh.”','“Need respectful dialogue.”','“Confusing cues.”'],detailChart:[54,39,7],detailText:'Combative style alienates moderates.',breakdownLabels:['18–24','25–34','35–44','45+'],breakdownValues:[20,30,25,25]},
        {id:9,title:'Approval by Affiliation',summary:'88% Rep vs 12% Dem vs 30% Ind.',quotes:['“Polarization grows.”','“Independents ignored.”','“Party divide.”'],detailChart:[88,30,12],detailText:'Strong correlation with party ID.',breakdownLabels:['Republicans','Independents','Democrats'],breakdownValues:[88,30,12]},
        {id:10,title:'Approval by Age',summary:'Rises significantly with age.',quotes:['“Seniors supported.”','“Youth feel excluded.”','“Prefer younger leaders.”'],detailChart:[33,38,47,52],detailText:'Generational differences pronounced.',breakdownLabels:['18–29','30–44','45–64','65+'],breakdownValues:[33,38,47,52]},
        {id:11,title:'Approval by Education',summary:'Higher education linked to lower approval.',quotes:['“Experts see flaws.”','“Need data-driven policy.”','“Academic voice ignored.”'],detailChart:[48,35,29],detailText:'Demand for evidence-based decisions.',breakdownLabels:['High School','Bachelor','Master','Doctorate'],breakdownValues:[50,30,15,5]},
        {id:12,title:'Approval by Race',summary:'51% White vs lower minority rates.',quotes:['“Policies ignore us.”','“Need inclusion.”','“Representation matters.”'],detailChart:[51,13,28,31],detailText:'Equity concerns in minority groups.',breakdownLabels:['White','Black','Hispanic','Asian'],breakdownValues:[51,13,28,31]},
        {id:13,title:'Global Conflicts Response',summary:'Mixed views on interventions.',quotes:['“Too passive.”','“Focus at home.”','“Need strategy.”'],detailChart:[15,18,10,25,32],detailText:'Tension between intervention vs isolation.',breakdownLabels:['Republicans','Independents','Democrats'],breakdownValues:[70,45,25]},
        {id:14,title:'Musk & Dogecoin Endorsements',summary:'Experimental, divided reactions.',quotes:['“Bizarre choice.”','“Tech-forward.”','“Unprofessional.”'],detailChart:[10,15,33,20,22],detailText:'Innovation vs professionalism debate.',breakdownLabels:['Tech Enthusiasts','Investors','General Public'],breakdownValues:[35,25,40]}
      ];
      qualitative.forEach((q,i) => {
        const card = document.createElement('div'); card.className = 'card';
        card.innerHTML = `
          <h2>Q${q.id}: ${q.title}</h2>
          <div class="chart-container"><canvas id="qc${q.id}"></canvas></div>
          <div class="chart-data">${['Positive','Neutral','Negative'].map((l,j)=>`${l}: ${q.detailChart[j]}%`).join(' | ')}</div>
          <p class="summary"><strong>Key Insight:</strong> ${q.summary}</p>
          <div class="quotes">${q.quotes.map(t=>`<div class="quote">${t}</div>`).join('')}</div>
          <button class="expand-button" onclick="toggleExpand(this)">View More</button>
          <div class="expanded-content">
            <h3>Deeper Insight</h3><p>${q.detailText}</p>
            <h3>Focus Group Breakdown</h3>
            <div class="chart-container"><canvas id="qd${q.id}"></canvas></div>
            <div class="chart-data" id="breakData${q.id}"></div>
          </div>`;
        document.getElementById('insightsGrid').appendChild(card);
        new Chart(document.getElementById(`qc${q.id}`),{type:types[i%types.length],data:{labels:['Positive','Neutral','Negative'],datasets:[{data:q.detailChart,backgroundColor:colors}]},options:{plugins:{datalabels:{formatter:v=>v+'%',color:'#fff'}},maintainAspectRatio:false}});
        new Chart(document.getElementById(`qd${q.id}`),{type:types[(i+1)%types.length],data:{labels:q.breakdownLabels,datasets:[{data:q.breakdownValues,backgroundColor:colors}]},options:{plugins:{datalabels:{formatter:v=>v+'%',color:'#000'}},maintainAspectRatio:false}});
        document.getElementById(`breakData${q.id}`).innerHTML = q.breakdownLabels.map((l,j)=>`${l}: ${q.breakdownValues[j]}%`).join(' | ');
      });
      // Quantitative
      const quantitative = [
        {id:1,title:'Overall Job Approval',labels:['Approve','Disapprove','No Opinion'],vals:[42,53,5]},
        {id:2,title:'Economic Confidence',labels:['Very','Somewhat','Not Very','Not at All','No Opinion'],vals:[20,25,15,37,3]},
        {id:3,title:'Foreign Policy Satisfaction',labels:['Very','Somewhat','Neutral','Somewhat Dissatisfied','Very Dissatisfied','No Opinion'],vals:[12,26,9,20,35,8]},
        {id:4,title:'Immigration Handling',labels:['Very','Somewhat','Neutral','Not Very','Not At All','No Opinion'],vals:[22,22,6,18,32,6]},
        {id:5,title:'Tariffs & Trade',labels:['Very','Somewhat','Neutral','Somewhat Dissatisfied','Very Dissatisfied','No Opinion'],vals:[10,24,8,18,30,10]},
        {id:6,title:'Exec Tariff Authority',labels:['Yes','No','No Opinion'],vals:[32,60,8]},
        {id:7,title:'Healthcare Satisfaction',labels:['Very','Somewhat','Neutral','Somewhat Dissatisfied','Very Dissatisfied','No Opinion'],vals:[11,25,6,20,38,6]},
        {id:8,title:'Tone & Communication',labels:['Too Aggressive','Appropriate','Too Passive'],vals:[54,39,7]},
        {id:9,title:'Approval by Affiliation',labels:['Republicans','Independents','Democrats'],vals:[88,30,12]},
        {id:10,title:'Approval by Age',labels:['18–29','30–44','45–64','65+'],vals:[33,38,47,52]},
        {id:11,title:'Approval by Education',labels:['No College','College','Postgraduate'],vals:[48,35,29]},
        {id:12,title:'Approval by Race',labels:['White','Black','Hispanic','Asian'],vals:[51,13,28,31]},
        {id:13,title:'Global Conflicts Response',labels:['Very','Somewhat','Neutral','Not Very','Not at All'],vals:[15,18,10,25,32]},
        {id:14,title:'Musk & Dogecoin Endorsements',labels:['Strongly Approve','Somewhat Approve','Neutral','Somewhat Disapprove','Strongly Disapprove'],vals:[10,15,33,20,22]}
      ];
      quantitative.forEach((q,i) => {
        const card = document.createElement('div'); card.className = 'card';
        card.innerHTML = `
          <h2>Q${q.id}: ${q.title}</h2>
          <div class="chart-container"><canvas id="qq${q.id}"></canvas></div>
          <div class="chart-data">${q.labels.map((l,j)=>`${l}: ${q.vals[j]}%`).join(' | ')}</div>`;
        document.getElementById('quantGrid').appendChild(card);
        new Chart(document.getElementById(`qq${q.id}`),{type:types[i%types.length],data:{labels:q.labels,datasets:[{data:q.vals,backgroundColor:colors}]},options:{plugins:{datalabels:{formatter:v=>v+'%',color:'#000'}},scales:{y:{beginAtZero:true,max:100,ticks:{callback:v=>v+'%'}}},maintainAspectRatio:false}});
      });
    });
  </script>
</body>
</html>